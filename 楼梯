#include<stdio.h>
int main()
{
	int time[5],begin[5],dir[5],i,j,ok1=1,ok2=0,ok3=0,t=0,sum=0;//ok为控制执行，t计时刻 
	for(i=0;i<5;i++)
	{
		scanf("%d%d%d",&time[i],&begin[i],&dir[i]);
	}
	while(ok1)
	{
		for(j=1;j<=10;j++)//上往10楼 
		{
			for(i=0;i<5;i++)
			{
				if(time[i]<=t&&begin[i]==j&&dir[i]==0&&j!=1)//寻找去10楼符合条件的人 
				{
					ok2=1;
					begin[i]=0;
					dir[i]=2;
				}
				if(time[i]<=t&&begin[i]==j&&dir[i]==0&&j==1)
				{begin[i]=0;
				dir[i]=2;}
			}
			for(i=0;i<5;i++)
			{
				if(ok2==1&&dir[i]==1&&time[i]<=t&&begin[i]==j)
				{
					begin[i]=0;
					dir[i]=3;
				}
			}
			if(ok2)
			{
				printf("%d时，停靠在%d楼\n",t,j);
				t++;
			}
			ok2=0;
			t++;
		}
		for(i=0;i<5;i++)
		{
			if(dir[i]==2)//累加总时间 
			{
				dir[i]=4;
				sum=sum+t-time[i];
				ok3=1;
			}
		}
		if(ok3)
		printf("%d时，停靠在10楼\n",t);
		ok3=0;
		t++;
		for(j=10;j>=1;j--)//下往1楼 
		{
			for(i=0;i<5;i++)
			{
				if(time[i]<=t&&begin[i]==j&&dir[i]==1&&j!=10)//不为十楼的情况
				{
					ok2=1;
					begin[i]=0;
					dir[i]=3;
				}
				if(time[i]<=t&&begin[i]==j&&j==10)//10楼的情况
				{
					begin[i]=0;
					dir[i]=1;
				}
			}
			for(i=0;i<5;i++)
			{
				if(ok2==1&&dir[i]==0&&time[i]<=t&&begin[i]==j)
				{
					begin[i]=0;
					dir[i]=2;
				}
			}
			if(ok2)
			{
				printf("%d时，停靠在%d楼\n",t,j);
				t++;
			}
			ok2=0;
			t++;
		}
		ok1=0;
		for(i=0;i<5;i++)
		{
			if(dir[i]==3)
			{
				dir[i]=5;
				sum+=(t-time[i]);
				ok3=1;
			}
			ok1+=begin[i];
		}
		if(ok3)
		printf("%d时，停靠在1楼\n",t);
		ok3=0;
		t++;
	}
	printf("%d",sum);
  return 0；
}
